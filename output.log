=== MCP Database Tools Testing Log ===
Date: 2025-09-26
Testing PostgreSQL and MySQL connections

Available Connections:
1. DCM4CHEE - PostgreSQL (DCM4CHEE instance in the vps) [DEFAULT]
2. OPENMRS - MySQL (OPENMRS instance in the vps)
3. OPENELIS - PostgreSQL (OPENELIS instance in the vps)

=== Testing Phase Started ===

=== CONNECTION TESTING ===
1. DCM4CHEE (PostgreSQL): SUCCESS - Connection test successful
2. OPENMRS (MySQL): SUCCESS - Connection test successful
3. OPENELIS (PostgreSQL): FAILED - Connection test failed: ping postgres: dial tcp 192.168.100.60:2345: connectex: No connection could be made because the target machine actively refused it.

Note: OPENELIS connection failed, will proceed with DCM4CHEE and OPENMRS only.

=== DATABASE INFORMATION ===
1. DCM4CHEE (PostgreSQL):
   - Database: pacsdb
   - Version: PostgreSQL 13.3
   - Schemas: public
   - Table Count: 34

2. OPENMRS (MySQL):
   - Database: openmrs
   - Version: MySQL 5.6.51-log
   - Schemas: openmrs
   - Table Count: 265

=== TABLE LISTINGS ===
1. DCM4CHEE (PostgreSQL) - 34 tables in 'public' schema:
   Sample tables: code, content_item, dicomattrs, patient, study, series, instance, location, metadata, etc.

2. OPENMRS (MySQL) - 265+ tables across multiple schemas:
   Sample tables: patient, encounter, obs, concept, users, person, visit, orders, location, etc.
   Note: Includes performance_schema and mysql system tables

=== DESCRIBE_TABLE TESTING ===
1. DCM4CHEE PostgreSQL Tables:
   - patient table: 18 columns (pk, created_time, pat_birthdate, pat_sex, etc.) with 15 indexes
   - study table: 31 columns (pk, study_iuid, study_date, study_desc, etc.) with 23 indexes

2. OPENMRS MySQL Tables:
   - patient table: 10 columns (patient_id, creator, date_created, allergy_status, etc.) with 4 indexes
   - encounter table: 16 columns (encounter_id, patient_id, encounter_datetime, etc.) with 11 indexes

=== ANALYZE_TABLE TESTING ===
1. DCM4CHEE PostgreSQL Tables:
   - patient table: 237 rows, 32 kB table size, 280 kB index size, 312 kB total
   - study table: 27 rows, 336 kB table size, 464 kB index size, 800 kB total

2. OPENMRS MySQL Tables:
   - patient table: 38 rows, 0.02 MB table size, 0.05 MB index size, 0.06 MB total
   - encounter table: 135 rows, 0.02 MB table size, 0.16 MB index size, 0.17 MB total

=== SELECT_QUERY TESTING ===
1. DCM4CHEE PostgreSQL Queries:
   - COUNT query: 237 total patients
   - Sample data: Retrieved 5 patient records with pk, pat_sex, and num_studies

2. OPENMRS MySQL Queries:
   - COUNT query: 38 total patients
   - Sample data: Retrieved 5 patient records with patient_id, allergy_status, and date_created

=== EXECUTE_QUERY TESTING ===
1. DCM4CHEE PostgreSQL Operations:
   - CREATE TEMP TABLE: SUCCESS - Created temporary table test_temp
   - INSERT: SUCCESS - Inserted 2 rows into test_temp

2. OPENMRS MySQL Operations:
   - CREATE TEMPORARY TABLE: SUCCESS - Created temporary table test_temp
   - INSERT: SUCCESS - Inserted 2 rows into test_temp

=== EXPLAIN_QUERY TESTING ===
1. DCM4CHEE PostgreSQL Query Plans:
   - Simple WHERE query: Sequential scan with filter, estimated 170 rows, cost 0.39-6.58
   - JOIN query: Hash join between patient and study tables, estimated 3 rows, cost 6.74-49.27

2. OPENMRS MySQL Query Plans:
   - Simple WHERE query: Full table scan on patient table, 36 rows examined
   - JOIN query: Table scan on patient + index lookup on encounter, 2 rows per patient

=== TESTING SUMMARY ===
All MCP database tools successfully tested on both PostgreSQL (DCM4CHEE) and MySQL (OPENMRS) connections:

✓ list_connections - Listed 3 configured connections (1 failed connectivity)
✓ test_connection - Tested connectivity to all available connections
✓ get_db_info - Retrieved database information and metadata
✓ list_tables - Listed all tables in each database schema
✓ describe_table - Retrieved detailed table structure and indexes
✓ analyze_table - Gathered table statistics and size information
✓ select_query - Executed SELECT queries successfully
✓ execute_query - Executed DDL/DML operations (CREATE, INSERT)
✓ explain_query - Generated execution plans for query analysis

OPENELIS connection was unavailable during testing but all other tools worked correctly on both database types.

Total test duration: Comprehensive testing completed
Date: 2025-09-26
